# docs ディレクトリ設計パターン

## 全体構成

```
docs/
├── archive/                     # 歴史的ドキュメント（初期仕様書等）
├── design/                      # 設計ドキュメント
│   ├── GUIDE.md                 # 設計書作成ガイド
│   ├── TEMPLATE.md              # 設計書テンプレート
│   ├── decisions/               # アーキテクチャ決定記録（ADR）
│   ├── modules/                 # モジュール別設計書
│   ├── flows/                   # 処理フロー図（Mermaid）
│   └── usecase_mapping/         # ユースケースと実装の対応表
├── plans/                       # 実装計画
│   ├── GUIDE.md
│   ├── TEMPLATE.md
│   └── resolved/                # 完了済み計画
├── review/                      # コードレビューガイドライン
│   ├── GUIDE.md
│   ├── TEMPLATE.md
│   ├── FORMAT.md                # 共通出力形式
│   └── modules/                 # モジュール別チェックリスト
├── usecases/                    # ユーザー向け操作ドキュメント
│   ├── GUIDE.md
│   └── TEMPLATE.md
└── status/                      # 実装ステータス
    ├── GUIDE.md
    ├── implementation.md
    └── roadmap.md
```

## レイヤーの役割

| レイヤー | 問いに答える |
|---------|------------|
| **design/** | 「なぜこう作るか」「内部でどう動くか」 |
| **plans/** | 「次に何を実装するか」 |
| **review/** | 「品質基準を満たしているか」 |
| **usecases/** | 「どう使うか」 |
| **status/** | 「今どこまでできているか」 |
| **archive/** | 「最初の構想は何だったか」 |

## 設計原則

### 関心の分離

- 設計書 = 「あるべき姿」（実装ステータスを書かない）
- 実装計画 = 「やること」（タスク管理）
- ステータス = 「現在の状態」（進捗記録）

### 実装ステータスに関する原則

設計書（`modules/`, `flows/`, `decisions/`）に実装ステータス（「未実装」「実装済み」「Phase N で対応予定」等）を記載してはならない。

- **禁止**: 「未実装」「実装済み」「Phase N」「将来対応予定」などの時間依存の記述
- **許可**: 「スコープ外」「本モジュールでは扱わない」などの設計上の境界定義
- **許可**: 「拡張ポイント」「代替案として検討可能」などの設計上の選択肢の記録（ADR内）
- **例外**: `usecase_mapping/` のカバレッジ列のみ、実装状態の追跡を許可する
